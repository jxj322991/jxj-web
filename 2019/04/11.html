<!--
 * @Description: 
 * @Author: jinxiaojian
 * @Email: jinxiaojian@youxin.com
 * @LastEditors: 靳肖健
 * @Date: 2019-04-11 10:35:00
 * @LastEditTime: 2019-04-11 14:39:14
 -->
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <link rel="stylesheet" href="../static/theme.css" />
    <title>Document</title>
  </head>
  <body>
    <header>
      <h1>vue 数据绑定视图 数据量过大会导致页面卡顿</h1>
    </header>
    <section>
      <div>
        <h3>问题描述</h3>
        <div>
          <p>
            cms 管理系统遇到一个问题 ,
            本地商品页面在正式环境中会出现卡顿,闪退...而测试环境不会出现这种状况.
          </p>
          <div>
            <table>
              <tr>
                <td>
                  <div>
                    <img src="img11/1.png" alt="" />
                  </div>
                </td>
              </tr>
            </table>
          </div>
        </div>
      </div>
      <div>
        <h3>分析问题</h3>
        <div>
          <p>
            分析两者不同,估计可能是数据不同导致的...
          </p>
          <p>
            查看正式环境请求返回数据发现,负责加载商品品牌的接口加载数据量过大,这些数据又绑定视图,生成大量页面元素造成的
          </p>
          <div>
            <table>
              <tr>
                <td>
                  <div>
                    <img src="img11/2.png" alt="" />
                  </div>
                </td>
                <td>
                  <div>
                    <img src="img11/3.png" alt="" />
                  </div>
                </td>
              </tr>
            </table>
          </div>
        </div>
      </div>
      <div>
        <h3>确定问题</h3>
        <div>
          <p>将正式环境出问题的接口的返回数据注入easymock</p>
          <p>开启whistle 将测试服的该请求接口替换为easymock请求数据</p>
          <p>复现出问题,问题被确定</p>
          <div>
            <table>
              <tr>
                <td>
                  <div>
                    <img src="img11/4.png" alt="" />
                  </div>
                  <div>
                    <img src="img11/5.png" alt="" />
                  </div>
                </td>
              </tr>
              <tr>
                <td>
                  <div>
                    <img src="img11/6.png" alt="" />
                  </div>
                </td>
              </tr>
            </table>
          </div>
        </div>
      </div>
      <div>
        <h3>解决问题</h3>

        <div>
          <p>
            替换element组件,将其改变成伪远程搜素的形式,避免大量数据直接经过绑定生成视图,问题得以解决
          </p>
          <div>
            <table>
              <tr>
                <td>
                  <div>
                    <img src="img11/7.png" alt="" />
                  </div>
                </td>
                <td>
                  <div>
                    <img src="img11/8.png" alt="" />
                  </div>
                </td>
              </tr>
            </table>
          </div>
        </div>
      </div>
    </section>

    <article>
      靳肖健
    </article>
  </body>
  <style>
    div,
    td,
    p {
      padding: 1vw;
      font-size: 1vw;
      line-height: 1.5;
    }
    td {
      border: 1px solid #eee;
      max-width: 50vw;
    }
    h1 {
      font-size: 3vw;
    }
    h3 {
      font-size: 2vw;
    }
    h5 {
      font-size: 1vw;
    }
    img {
      min-width: 10vw;
      width: 100%;
    }
    footer {
      color: #fff;
    }
    header {
      color: #aaa;
    }
  </style>
</html>
